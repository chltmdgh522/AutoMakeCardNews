<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>A.M.C.N</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style_em.css">
    <link rel="stylesheet" href="/css/cardInformation.css">
    <link rel="shortcut icon" href="/logo/AMCNicon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <!-- Google Fonts ë§í¬ ì¶”ê°€ -->


    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/097a6f4f17.js" crossorigin="anonymous"></script>

    <style>
        .field-error {
            color: #ff0000;
        }
        #popup5 {
            display: none;
            position: fixed;
            left: 800px;
            width: 120%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .popup-content5 {
            background: white;
            padding: 20px;
            border-radius: 8px;
            width: 300px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .popup-content5 h2 {
            margin-top: 0;
        }

        .popup-content5 label {
            display: block;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
<header id="header">
    <a href="/" style="text-decoration: none">
        <!--    <img src="/logo/AMCNicon.png" alt="">-->
        <p id="yamlogo">AMCN</p>
    </a>
</header>

<div id="main_display">
    <aside class="tools">
        <ul>
            <li>
                <button id="drawing" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 30px; height: 30px; vertical-align: middle;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42" />
                    </svg>
                    <span class="tooltip">Pen</span>
                </button>
            </li>

            <li>
                <button id="square" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 40px; height: 40px; vertical-align: middle; margin-left: -5px;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z" />
                    </svg>
                    <span class="tooltip">Square</span>
                </button>
            </li>

            <li>
                <button id="fill_square" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6" style="width: 40px; height: 40px; vertical-align: middle; margin-left: -5px;">
                        <path fill-rule="evenodd" d="M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z" clip-rule="evenodd" />
                    </svg>
                    <span class="tooltip">fill_square</span>
                </button>
            </li>

            <li>
                <button id="filter" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75" />
                    </svg>
                    <span class="tooltip">Filter</span>
                </button>
            </li>

            <li>
                <button id="reset" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" />
                    </svg>
                    <span class="tooltip">Delete</span>
                </button>
            </li>
            <li>
                <button id="info" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 30px; height: 30px; vertical-align: middle;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" />
                    </svg>
                    <span class="tooltip">Info</span>
                </button>
            </li>
        </ul>

        <li>
            <button id="category" class="tool">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 30px; height: 30px; vertical-align: middle;">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
                </svg>
                <span class="tooltip">Category(post)</span>
            </button>

            <div id="popup" class="popup">
                <form id="imageForm" method="post" enctype="multipart/form-data" th:object="${cardNews}">
                    <input type="hidden" id="imageData" name="imageData">
                    <h3 style="font-family: 'Noto Sans KR', sans-serif; font-weight:bold;">
                        <i class="fas fa-paper-plane" style="margin-right: 8px;" title="ê²Œì‹œí•˜ê¸°"></i> <!-- ê²Œì‹œ ì•„ì´ì½˜ -->
                        ì¹´ë“œ ë‰´ìŠ¤ ê²Œì‹œ
                    </h3>
                    <div th:if="${#fields.hasGlobalErrors()}">
                        <p class="field-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}">ì „ì²´ ì˜¤ë¥˜ ë©”ì‹œì§€</p>
                    </div>
                    <div class="category">
                        <label><input type="radio" th:field="*{category}" name="category" value="IT" th:checked required> IT</label>
                        <label><input type="radio" th:field="*{category}" name="category" value="ê³¼í•™" required> ê³¼í•™</label>
                        <label><input type="radio" th:field="*{category}" name="category" value="ìŠ¤í¬ì¸ " required> ìŠ¤í¬ì¸ </label>
                        <label><input type="radio" th:field="*{category}" name="category" value="ê²½ì œ" required> ê²½ì œ</label>
                        <label><input type="radio" th:field="*{category}" name="category" value="ì˜ˆìˆ " required> ì˜ˆìˆ </label>
                    </div>
                    <div>
                        <label for="title">ì œëª©</label>
                        <input type="text" th:field="*{title}" id="title" name="title" th:value="${cardNews.title}" required>
                    </div>
                    <div>
                        <label for="content">ë‚´ìš©</label>
                        <textarea id="content" name="content" th:field="*{content}" rows="4" required th:text="${cardNews.content}"></textarea>
                    </div>
                    <button type="button" id="postButton" onclick="saveImage1()">ì—…ë°ì´íŠ¸ ì™„ë£Œ</button>
                </form>
            </div>
        </li>

        <ul class='files'>
            <li>
                <button id="save5" class="tool" style="display: flex; align-items: center;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 30px; height: 30px; vertical-align: middle;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z" />
                    </svg>
                    <span class="tooltip">Save</span>
                </button>
            </li>
        </ul>
    </aside>
    <main>
        <canvas id="imageCanvas"></canvas>
        <button id="speakerButton" class="speaker-btn">ğŸ”Š</button>
    </main>
    <aside class="tools_sett">
        <div class="container" style="margin-bottom: -138px;">
            <input type="color" id="text_color"/>
            <label for="text_color" class="color_tool" >ìƒ‰ìƒ</label>
            <input type="color" id="background_color" value="#ffffff"/>
            <label for="background_color" class="color_tool">ë°°ê²½ìƒ‰</label>
        </div>
        <div class='ranges' style="margin-bottom: -55px;">
            <div id="canvas_range">
                <input type="text" id="canvas_width" value="750">
                X
                <input type="text" id="canvas_height" value="750">
                <label for="canvas_range" class="range_tool">Canvas</label>
            </div>
            <div id="size_box" style="display: none;">
                <input type="range" id="line_width" min="1" max="10" value="5" step="0.1"/>
                <label for="line_width" class="range_tool">ì‚¬ì´ì¦ˆ</label>
            </div>
        </div>
        <div>
            <div class="styled-section">
                <div class="text-button-group" style="margin-top: 75px;">
                    <button id="textbutton" class="styled-button">í…ìŠ¤íŠ¸ ì¶”ê°€</button>
                </div>
            </div>

            <div id="popup1" class="popup1">
                <h3 style="font-family: 'Noto Sans KR', sans-serif;">
                    <i class="fa fa-text-width" aria-hidden="true" style="margin-right: 5px;"></i> í…ìŠ¤íŠ¸ ì¶”ê°€
                </h3>
                <textarea id="textInput" placeholder="í…ìŠ¤íŠ¸ ì…ë ¥"></textarea>
                <input type="color" id="textColorPicker" value="#000000" style="width: 300px;">
                <input type="number" id="textSizeInput" placeholder="í…ìŠ¤íŠ¸ í¬ê¸°" min="10" max="100" value="40">
                <select id="fontWeightSelect">
                    <option value="bold">Bold</option>
                    <option value="normal">Normal</option>
                </select>
                <select id="fontFamilySelect">
                    <option value="Do Hyeon">Do Hyeon</option>
                    <option value="Nanum Gothic">Nanum Gothic</option>
                    <option value="Noto Sans KR">Noto Sans KR</option>
                    <option value="Gugi">Gugi</option>
                    <option value="Noto Sans KR">Noto Sans KR</option>
                    <option value="Black Han Sans">Black Han Sans</option>
                    <option value="Gamja Flower">Gamja Flower</option>
                    <option value="Dokdo">Dokdo</option>
                    <option value="Sunflower">Sunflower</option>
                    <option value="Poor Story">Poor Story</option>
                    <!-- ì¶”ê°€ í°íŠ¸ ì˜µì…˜ë“¤ -->
                </select>
                <button id="addTextButton">í…ìŠ¤íŠ¸ ì¶”ê°€</button>
            </div>
        </div>

        <div id="jsonurl" style="display: none" th:text="${cardNews.jsonUrl}">
        </div>
        <div id="jsonimage" style="display: none" th:text="${cardNews.originalUrl}">
        </div>

    </aside>
</div>

<!-- í…ìŠ¤íŠ¸ í¸ì§‘ ëª¨ë‹¬ -->
<div id="textEditPopup" class="popup2">
    <h3 style="font-family: 'Noto Sans KR', sans-serif;">
        <i class="fa fa-text-width" aria-hidden="true" style="margin-right: 5px;"></i> í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
    </h3>
    <div style="margin-bottom: 10px;">

        <textarea id="popupTextInput"></textarea>
    </div>
    <div style="margin-bottom: 10px;">
        <input type="color" id="popupTextColorPicker" style="width: 300px;">
    </div>
    <div style="margin-bottom: 10px;">
        <input type="number" id="popupTextSizeInput" min="10" max="100">
    </div>
    <div style="margin-bottom: 10px;">
        <select id="popupFontWeightSelect" style="padding: 5px; border: 1px solid #ccc; border-radius: 3px;">
            <option value="normal">Normal</option>
            <option value="bold">Bold</option>
        </select>
    </div>
    <div style="margin-bottom: 10px;">
        <select id="popupFontFamilySelect" style="padding: 5px; border: 1px solid #ccc; border-radius: 3px;">
            <option value="Nanum Gothic">Nanum Gothic</option>
            <option value="Noto Sans KR">Noto Sans KR</option>
            <option value="Do Hyeon">Do Hyeon</option>
            <option value="Gugi">Gugi</option>
            <option value="Noto Sans KR">Noto Sans KR</option>
            <option value="Black Han Sans">Black Han Sans</option>
            <option value="Gamja Flower">Gamja Flower</option>
            <option value="Dokdo">Dokdo</option>
            <option value="Sunflower">Sunflower</option>
            <option value="Poor Story">Poor Story</option>
            <!-- ì¶”ê°€ í°íŠ¸ ì˜µì…˜ë“¤ -->
        </select>
    </div>
    <button id="updateTextButton">ì—…ë°ì´íŠ¸</button>
    <button id="closeTextPopup" style="  margin-top: 15px;
        width: 100%;
        padding: 10px;
        background-color: red;
       border: none;
        border-radius: 5px;
        color: #fff;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease; /* ì¶”ê°€: í˜¸ë²„ íš¨ê³¼ */
        ">ë‹«ê¸°
    </button>
</div>

<!-- ë¹ˆì‚¬ê°í˜• ì§€ì • íŒì—… -->
<div id="colorPopup" class="popup3">
    <div class="popup3-content">
        <span id="closeColorPopup" class="close">
            <i class="fas fa-times"></i>
        </span>
        <!--<span id="closeColorPopup" class="close">X</span>-->
        <h3 style="font-family: 'Noto Sans KR', sans-serif; padding-left: 5px; margin-bottom: 15px; font-weight:bold;">
            <i class="far fa-square" style="margin-right: 5px; font-weight:bold;"></i>
            ë¹ˆì‚¬ê°í˜• ìƒ‰ê¹”
        </h3>
        <div class="color-palette" style="margin-bottom: 15px;">
            <div class="color-circle" style="background-color: #FF0000; margin-right: 35px;" data-color="#FF0000"></div>
            <div class="color-circle" style="background-color: #00FF00; margin-right: 35px;" data-color="#00FF00"></div>
            <div class="color-circle" style="background-color: #0000FF; margin-right: 35px;" data-color="#0000FF"></div>
            <div class="color-circle" style="background-color: #FFFF00; margin-right: 35px;" data-color="#FFFF00"></div>
            <div class="color-circle rainbow-circle" id="rainbowCircle1">  </div> <!-- ë¬´ì§€ê°œ ë²„íŠ¼ -->
            <!-- ê¸°ë³¸ ìƒ‰ìƒ ì„ íƒê¸° (íˆ¬ëª…í•˜ê²Œ ì²˜ë¦¬) -->
            <input type="color" id="rectColorPicker" class="color-picker-transparent">
        </div>
        <button class="rect_button" id="updateColorButton">ë³€ê²½</button>
    </div>
</div>

<!-- ìƒ‰ì±„ìš´ ì‚¬ê°í˜• ì§€ì • íŒì—… -->
<div id="colorPopup2" class="popup4">
    <div class="popup4-content">
        <span id="closeColorPopup2" class="close2">
            <i class="fas fa-times"></i>
        </span>
        <!--<span id="closeColorPopup2" class="close2">X</span>-->
        <h3 style="font-family: 'Noto Sans KR', sans-serif; padding-left: 5px; margin-bottom: 15px; font-weight:bold;">
            <i class="fas fa-square" style="margin-right: 5px; font-weight:bold;"></i>
            ì‚¬ê°í˜• ìƒ‰ê¹”
        </h3>
        <!-- ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ì¶”ê°€ -->
        <div class="color-palette" style="margin-bottom: 15px;">
            <div class="color-circle" style="background-color: #FF0000; margin-right: 35px;" data-color="#FF0000"></div>
            <div class="color-circle" style="background-color: #00FF00; margin-right: 35px;" data-color="#00FF00"></div>
            <div class="color-circle" style="background-color: #0000FF; margin-right: 35px;" data-color="#0000FF"></div>
            <div class="color-circle" style="background-color: #FFFF00; margin-right: 35px;" data-color="#FFFF00"></div>
            <div class="color-circle rainbow-circle" id="rainbowCircle2">  </div> <!-- ë¬´ì§€ê°œ ë²„íŠ¼ -->
            <!-- ê¸°ë³¸ ìƒ‰ìƒ ì„ íƒê¸° (íˆ¬ëª…í•˜ê²Œ ì²˜ë¦¬) -->
            <input type="color" id="rectColorPicker2" class="color-picker-transparent">
        </div>
        <button class="rect_button2" id="updateColorButton2">ë³€ê²½</button>
    </div>
</div>


<!-- íœ ìƒ‰ê¹” ì§€ì • íŒì—… -->
<div id="colorPopup3" class="popup5">
    <div class="popup5-content">
        <span id="closeColorPopup3" class="close3">
            <i class="fas fa-times"></i>
        </span>
        <h3 style="font-family: 'Noto Sans KR', sans-serif; padding-left: 5px; margin-bottom: 15px; font-weight:bold;">
            <i class="fas fa-paint-brush" style="margin-right: 5px; font-weight:bold;"></i>
            íœ ìƒ‰ìƒ
        </h3>
        <!-- ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ì¶”ê°€ -->
        <div class="color-palette" style="margin-bottom: 15px;">
            <div class="color-circle" style="background-color: #FF0000; margin-right: 35px;" data-color="#FF0000"></div>
            <div class="color-circle" style="background-color: #00FF00; margin-right: 35px;" data-color="#00FF00"></div>
            <div class="color-circle" style="background-color: #0000FF; margin-right: 35px;" data-color="#0000FF"></div>
            <div class="color-circle" style="background-color: #FFFF00; margin-right: 35px;" data-color="#FFFF00"></div>
            <div class="color-circle rainbow-circle" id="rainbowCircle3">  </div> <!-- ë¬´ì§€ê°œ ë²„íŠ¼ -->
            <!-- ê¸°ë³¸ ìƒ‰ìƒ ì„ íƒê¸° (íˆ¬ëª…í•˜ê²Œ ì²˜ë¦¬) -->
            <input type="color" id="rectColorPicker3" class="color-picker-transparent">
        </div>
        <button class="rect_button3" id="updateColorButton3">ë³€ê²½</button>
    </div>
</div>


<!-- ì´ë¯¸ì§€ ë° ì˜¤ë””ì˜¤ ì €ì¥ ëª¨ë‹¬ -->
<div id="popup5" class="popup5">
    <div class="popup-content5">
        <span id="close5" class="close-btn5">&times;</span>
        <h3 style="font-family: 'Noto Sans KR', sans-serif; font-weight:bold;">
            <i class="fas fa-download" style="margin-right: 5px;"></i> ë‹¤ìš´ë¡œë“œ
        </h3>
        <form id="popup-form5" style="margin-top: 10px">
            <label style="font-size: 22px;">
                <input type="checkbox" name="options5" value="image" style="width: 17px; height: 17px;">
                ì¹´ë“œë‰´ìŠ¤
            </label>
            <label style="font-size: 22px;">
                <input type="checkbox" name="options5" value="audio" style="width: 17px; height: 17px;">
                TTS
            </label>
            <label style="font-size: 22px;">
                <input type="checkbox" name="options5" value="video" style="width: 17px; height: 17px;">
                ë™ì˜ìƒ
            </label>
            <div class="button-group5">
                <button type="submit" class="btn download-btn5" style="width: 135px;">Download</button>
                <button type="button" id="cancel5" class="btn cancel-btn5" style="width: 135px;">Cancel</button>
            </div>
        </form>
    </div>
</div>



<div id="overlay5"></div>
<div id="filterPopup5">
    <h3 style="font-family: 'Noto Sans KR', sans-serif; padding-left: 10px; font-weight:bold;">
        <i class="fas fa-camera-retro fa-lg" style="margin-right: 8px; font-size: 24px;"></i>í•„í„° ì„ íƒ
    </h3>
    <form id="filterForm5">
        <div class="filter-option5">
            <input type="radio" id="blur5" name="filter5" value="blur">
            <label for="blur5">íë¦¬ê²Œ</label>
        </div>
        <div class="filter-option5">
            <input type="radio" id="brighten5" name="filter5" value="brighten">
            <label for="brighten5">ë°ê²Œ</label>
        </div>
        <div class="filter-option5">
            <input type="radio" id="contrast5" name="filter5" value="contrast">
            <label for="contrast5">ëŒ€ë¹„ ì¡°ì •</label>
        </div>
        <div class="filter-option5">
            <input type="radio" id="grayscale5" name="filter5" value="invert">
            <label for="grayscale5">í‘ë°±</label>
        </div>
        <div class="filter-option5">
            <input type="radio" id="sepia5" name="filter5" value="sepia">
            <label for="sepia5">ì„¸í”¼ì•„</label>
        </div>
        <div class="filter-option5">
            <input type="radio" id="default" name="filter5" value="default">
            <label for="default">ì—†ìŒ</label>
        </div>
    </form>
    <div id="buttonWrapper5">
        <button id="applyFilter5">ì ìš©</button>
        <button id="closePopup5">ë‹«ê¸°</button>
    </div>
</div>


<div class="popup-background1502">
    <!-- íŒì—… ì»¨í…Œì´ë„ˆ -->
    <div class="popup-container150">
        <!-- ìƒë‹¨ ì¤‘ì•™ì— ë¬¸ì˜ ë¬¸êµ¬ ì¶”ê°€ -->
        <div class="inquiry-text150">
            <a href="/chat" style="color: black; text-decoration: none; font-weight: bold; font-size: large;">
                â­ë¬¸ì˜í•˜ì‹¤ê²Œ ìˆìœ¼ë©´ ì´ ë¬¸êµ¬ë¥¼ í´ë¦­!â­
            </a>
        </div>


        <!-- í˜ì´ì§€ 1 -->
        <div class="page150 active150" id="page-1150">
            <div class="page-content150" style="background-image: url('/info/img1.png');">
                <div class="page-text150" style="font-weight: bold;">í™˜ì˜í•©ë‹ˆë‹¤! ì´ ì„¤ëª…ì„œëŠ” ì‚¬ìš©ë²•ì„ ì•ˆë‚´í•´ ë“œë¦½ë‹ˆë‹¤!</div>
            </div>
        </div>
        <!-- í˜ì´ì§€ 2 -->
        <div class="page150" id="page-2150">
            <div class="page-content150" style="background-image: url('/info/img2.png');">

            </div>
        </div>
        <!-- í˜ì´ì§€ 3 -->
        <div class="page150" id="page-3150">
            <div class="page-content150" style="background-image: url('/info/img3.png');">

            </div>
        </div>

        <div class="page150" id="page-4150">
            <div class="page-content150" style="background-image: url('/info/img4.png');">

            </div>
        </div>

        <div class="page150" id="page-5150">
            <div class="page-content150" style="background-image: url('/info/img5.png');">

            </div>
        </div>

        <div class="page150" id="page-6150">
            <div class="page-content150" style="background-image: url('/info/img6.png');">

            </div>
        </div>

        <div class="page150" id="page-7150">
            <div class="page-content150" style="background-image: url('/info/img7.png');">

            </div>
        </div>

        <div class="page150" id="page-8150">
            <div class="page-content150" style="background-image: url('/info/img8.png');">

            </div>
        </div>

        <div class="page150" id="page-9150">
            <div class="page-content150" style="background-image: url('/info/img9.png');">

            </div>
        </div>

        <div class="page150" id="page-10150">
            <div class="page-content150" style="background-image: url('/info/img10.png');">

            </div>
        </div>

        <div class="page150" id="page-11150">
            <div class="page-content150" style="background-image: url('/info/img11.png');">

            </div>
        </div>

        <div class="page150" id="page-12150">
            <div class="page-content150" style="background-image: url('/info/img11-2.png');">

            </div>
        </div>

        <div class="page150" id="page-13150">
            <div class="page-content150" style="background-image: url('/info/img12.png');">

            </div>
        </div>

        <div class="page150" id="page-14150">
            <div class="page-content150" style="background-image: url('/info/img13.png');">

            </div>
        </div>

        <div class="page150" id="page-15150">
            <div class="page-content150" style="background-image: url('/info/img14.png');">

            </div>
        </div>

        <!-- ë‹«ê¸° ë²„íŠ¼ -->
        <button class="close-button150" id="closeButton150">X</button>

        <!-- ì´ì „ ë²„íŠ¼ -->
        <button class="button150 prev150" id="prevButton150">ì´ì „</button>
        <!-- ë‹¤ìŒ ë²„íŠ¼ -->
        <button class="button150 next150" id="nextButton150">ë‹¤ìŒ</button>

        <!-- í˜ì´ì§€ ë²ˆí˜¸ í‘œì‹œ -->
        <div class="page-indicator150" style="color: red; font-weight: bold;" id="pageIndicator150">1/15</div>
    </div>
</div>


<div id="loadingOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); color: white;
 justify-content: center; align-items: center; z-index: 9999;">
    <div class="center-block">

         <span style="position: absolute; top: 45%; left: 50%; transform: translateX(-50%); color: gray; font-weight: bold">
        ë™ì˜ìƒì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.
            </span>
    </div>
</div>

<script src="/js/main.js"></script>
<script src="/js/app2.js"></script>
<script>
    // ì´ë¯¸ì§€ ì €ì¥ í•¨ìˆ˜
    function saveImage1() {
        var canvas = document.getElementById("imageCanvas");
        var imageData = canvas.toDataURL("image/png");

        document.getElementById("imageData").value = imageData;
        document.getElementById("imageForm").submit();

        // ì„œë²„ì—ì„œ ë°›ì€ íƒ€ì„ë¦¬í”„ ë³€ìˆ˜ë¥¼ JavaScript ë³€ìˆ˜ë¡œ ê°€ì ¸ì˜¤ê¸°
        var backgroundImage2 = document.getElementById("jsonimage").textContent;

        const canvasState = {
            backgroundImage: backgroundImage ? backgroundImage2 : null,
            penStrokes: penStrokes,
            brushStrokes: brushStrokes,
            texts: texts,
            rectangles: rectangles,
            rectfillangles: rectfillangles,
            backgroundColor: backgroundColor,
            currentFilter: filterLastValue,
        };
        const json = JSON.stringify(canvasState);

        // ì„œë²„ë¡œ JSON ë°ì´í„° ì „ì†¡
        if (json) { // null ì²´í¬
            fetch('/ai-editJson', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: json
            })
                .then(response => {
                    // ì„œë²„ ì‘ë‹µ ì²˜ë¦¬
                })
                .catch(error => {
                    // ì˜¤ë¥˜ ì²˜ë¦¬
                });
        }
    }
</script>
<script>
    const categoryButton = document.getElementById('category');

    const returnButton = document.getElementById('square');
    const popup = document.getElementById('popup');

    categoryButton.addEventListener('click', (event) => {


        const rect = returnButton.getBoundingClientRect();
        const rightEdge = window.innerWidth;
        popup.style.top = `${rect.bottom}px`;
        if (rect.right + popup.offsetWidth > rightEdge) {
            popup.style.left = `${rect.left}px`;
        } else {
            popup.style.left = `${rect.right}px`;
        }
        togglePopup();
    });

    function togglePopup() {
        popup.style.display = (popup.style.display === 'block') ? 'none' : 'block';
    }

    document.addEventListener('click', (event) => {
        if (!popup.contains(event.target) && event.target !== categoryButton) {
            popup.style.display = 'none';
        }
    });

</script>

<script>
    const textButton = document.getElementById('textbutton');
    const color_tool = document.getElementById('text_color');
    const popup1 = document.getElementById('popup1');

    textButton.addEventListener('click', (event) => {
        const rect = color_tool.getBoundingClientRect();
        const rightEdge = window.innerWidth;
        popup1.style.top = `${rect.bottom}px`;
        popup1.style.left = `${rect.left - popup1.offsetWidth - 180}px`; // ìˆ˜ì •ëœ ë¶€ë¶„: ì™¼ìª½ì— ëœ¨ë„ë¡ ê³„ì‚°
        togglePopup1();
    });

    function togglePopup1() {
        popup1.style.display = (popup1.style.display === 'block') ? 'none' : 'block';
    }

    document.addEventListener('click', (event) => {
        if (!popup1.contains(event.target) && event.target !== textButton) {
            popup1.style.display = 'none';
        }
    });

</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var jsonName = document.getElementById('jsonurl').textContent.trim();
        var filePath = `/ai/json/${jsonName}`;
        loadCanvasFromJSON(filePath);
    });

    function loadCanvasFromJSON(jsonFilePath) {
        fetch(jsonFilePath)
            .then(response => response.json())
            .then(data => {
                const canvasState = data;

                backgroundImage = null;
                penStrokes = canvasState.penStrokes || [];
                brushStrokes = canvasState.brushStrokes || [];
                texts = canvasState.texts || [];
                rectangles = canvasState.rectangles || [];
                rectfillangles = canvasState.rectfillangles || [];
                backgroundColor = canvasState.backgroundColor || [];
                currentFilter = canvasState.currentFilter || 'none';

                if (canvasState.backgroundImage) {
                    const img = new Image();
                    img.src = `/ai/imageone/${canvasState.backgroundImage}`;
                    img.onload = function () {
                        backgroundImage = img;
                        redrawCanvas(currentFilter); // í•„í„°ë¥¼ ì ìš©í•˜ì—¬ ìº”ë²„ìŠ¤ë¥¼ ë‹¤ì‹œ ê·¸ë¦½ë‹ˆë‹¤
                    };
                } else {
                    redrawCanvas();
                }
            })
            .catch(error => console.error('Error loading JSON:', error));
    }
</script>

<script>
    document.getElementById('save5').addEventListener('click', function() {
        document.getElementById('popup5').style.display = 'flex';
    });

    document.getElementById('close5').addEventListener('click', function() {
        document.getElementById('popup5').style.display = 'none';
    });

    document.getElementById('cancel5').addEventListener('click', function() {
        document.getElementById('popup5').style.display = 'none';
    });

    document.getElementById('popup-form5').addEventListener('submit', function(event) {
        event.preventDefault();

        document.getElementById('popup5').style.display = 'none';
    });

</script>
<script>
    let currentPage150 = 1;
    const totalPages150 = 15;

    const prevButton150 = document.getElementById('prevButton150');
    const nextButton150 = document.getElementById('nextButton150');
    const closeButton150 = document.getElementById('closeButton150');
    const pages150 = document.querySelectorAll('.page150');
    const pageIndicator150 = document.getElementById('pageIndicator150');
    const popupBackground150 = document.querySelector('.popup-background1502');

    function updatePage150(direction) {
        // í˜„ì¬ í˜ì´ì§€ ìˆ¨ê¸°ê¸°
        const currentElement150 = document.getElementById(`page-${currentPage150}150`);
        currentElement150.classList.remove('active150');

        // í˜ì´ì§€ ë³€ê²½
        if (direction === 'next') {
            currentPage150 = currentPage150 < totalPages150 ? currentPage150 + 1 : 1;
        } else if (direction === 'prev') {
            currentPage150 = currentPage150 > 1 ? currentPage150 - 1 : totalPages150;
        }

        // ìƒˆ í˜ì´ì§€ ë³´ì—¬ì£¼ê¸°
        const nextElement150 = document.getElementById(`page-${currentPage150}150`);
        nextElement150.classList.add('active150');

        // í˜ì´ì§€ ë²ˆí˜¸ ì—…ë°ì´íŠ¸
        pageIndicator150.textContent = `${currentPage150}/${totalPages150}`;

        // ë§ˆì§€ë§‰ í˜ì´ì§€ì¼ ë•Œ ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
        if (currentPage150 === totalPages150) {
            nextButton150.textContent = 'ë‹«ê¸°';
            nextButton150.removeEventListener('click', nextClickHandler);
            nextButton150.addEventListener('click', () => popupBackground150.style.display = 'none');
        } else {
            nextButton150.textContent = 'ë‹¤ìŒ';
            nextButton150.removeEventListener('click', closePopupHandler);
            nextButton150.addEventListener('click', nextClickHandler);
        }
    }

    function nextClickHandler() {
        updatePage150('next');
    }

    function closePopupHandler() {
        popupBackground150.style.display = 'none';
    }

    nextButton150.addEventListener('click', nextClickHandler);
    prevButton150.addEventListener('click', () => updatePage150('prev'));
    closeButton150.addEventListener('click', closePopupHandler);
    // Info ë²„íŠ¼ í´ë¦­ ì‹œ íŒì—… ë³´ì—¬ì£¼ê¸°
    const infoButton = document.getElementById('info');

    infoButton.addEventListener('click', () => {
        popupBackground150.style.display = 'flex'; // íŒì—…ì„ ë³´ì—¬ì¤Œ
    });

</script>

<script>
    // ë¹ˆì‚¬ê°í˜• ë¬´ì§€ê°œ ë²„íŠ¼ í´ë¦­ ì‹œ ìƒ‰ìƒ ì„ íƒê¸° íˆ¬ëª…ë„ë¥¼ ì—†ì•°
    document.getElementById('rainbowCircle1').addEventListener('click', function() {
        const colorPicker = document.getElementById('rectColorPicker');
        colorPicker.style.opacity = '1';  // íˆ¬ëª…ë„ ì—†ì•°
        colorPicker.click();  // ê¸°ë³¸ ìƒ‰ìƒ ì„ íƒê¸° ì°½ì„ ë°”ë¡œ ì—´ê¸°
    });
    // ìƒ‰ì±„ìš´ ì‚¬ê°í˜• ë¬´ì§€ê°œ ë²„íŠ¼ í´ë¦­ ì‹œ ìƒ‰ìƒ ì„ íƒê¸° íˆ¬ëª…ë„ë¥¼ ì—†ì•°
    document.getElementById('rainbowCircle2').addEventListener('click', function() {
        const colorPicker = document.getElementById('rectColorPicker2');
        colorPicker.style.opacity = '1';  // íˆ¬ëª…ë„ ì—†ì•°
        colorPicker.click();  // ê¸°ë³¸ ìƒ‰ìƒ ì„ íƒê¸° ì°½ì„ ë°”ë¡œ ì—´ê¸°
    });

    // íœ ìƒ‰ê¹” ì§€ì • íŒì—… ë¬´ì§€ê°œ ë²„íŠ¼ í´ë¦­ ì‹œ ìƒ‰ìƒ ì„ íƒê¸° íˆ¬ëª…ë„ë¥¼ ì—†ì•°
    document.getElementById('rainbowCircle3').addEventListener('click', function() {
        const colorPicker = document.getElementById('rectColorPicker3');
        colorPicker.style.opacity = '1';  // íˆ¬ëª…ë„ ì—†ì•°
        colorPicker.click();  // ê¸°ë³¸ ìƒ‰ìƒ ì„ íƒê¸° ì°½ì„ ë°”ë¡œ ì—´ê¸°
    });

</script>

<script>
    // íœ ìƒ‰ê¹” ì§€ì • íŒì—…ì„ ë“œë˜ê·¸í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” í•¨ìˆ˜
    function dragElement(element) {
        var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;

        element.onmousedown = function (e) {
            e = e || window.event;
            e.preventDefault();
            // ë§ˆìš°ìŠ¤ ì‹œì‘ ì¢Œí‘œ ê¸°ë¡
            pos3 = e.clientX;
            pos4 = e.clientY;
            document.onmouseup = closeDragElement;
            document.onmousemove = elementDrag;
        };

        function elementDrag(e) {
            e = e || window.event;
            e.preventDefault();
            // ë§ˆìš°ìŠ¤ ì›€ì§ì„ì— ë”°ë¥¸ íŒì—…ì˜ ìƒˆ ì¢Œí‘œ
            pos1 = pos3 - e.clientX;
            pos2 = pos4 - e.clientY;
            pos3 = e.clientX;
            pos4 = e.clientY;
            // íŒì—… ìœ„ì¹˜ ì—…ë°ì´íŠ¸
            element.style.top = (element.offsetTop - pos2) + "px";
            element.style.left = (element.offsetLeft - pos1) + "px";
        }

        function closeDragElement() {
            // ë§ˆìš°ìŠ¤ ë²„íŠ¼ì„ ë–¼ë©´ ë“œë˜ê·¸ ì¤‘ì§€
            document.onmouseup = null;
            document.onmousemove = null;
        }
    }

    // íŒì—…ì°½ì„ ë“œë˜ê·¸ ê°€ëŠ¥í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.
    dragElement(document.querySelector(".popup5"));
    dragElement(document.querySelector(".popup3"));  // ì‚¬ê°í˜• ìƒ‰ê¹” íŒì—…
    dragElement(document.querySelector(".popup4"));  // ìƒ‰ì±„ìš´ ì‚¬ê°í˜• íŒì—…
    dragElement(document.querySelector("#filterPopup5"));  // í•„í„° ì„ íƒ íŒì—…
</script>

</body>

</html>
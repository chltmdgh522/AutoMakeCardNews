<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>A.M.C.N</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style_em.css">
    <link rel="stylesheet" href="/css/cardInformation.css">
    <link rel="shortcut icon" href="/logo/AMCNicon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <!-- Google Fonts ÎßÅÌÅ¨ Ï∂îÍ∞Ä -->


    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/097a6f4f17.js" crossorigin="anonymous"></script>

    <style>
        .field-error {
            color: #ff0000;
        }
        #popup5 {
            display: none;
            position: fixed;
            left: 800px;
            width: 120%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .popup-content5 {
            background: white;
            padding: 20px;
            border-radius: 8px;
            width: 300px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .popup-content5 h2 {
            margin-top: 0;
        }

        .popup-content5 label {
            display: block;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
<header id="header">
    <a href="/" style="text-decoration: none">
        <!--    <img src="/logo/AMCNicon.png" alt="">-->
        <p id="yamlogo">AMCN</p>
    </a>
</header>

<div id="main_display">
    <aside class="tools">
        <ul>
            <li>
                <button id="drawing" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 30px; height: 30px; vertical-align: middle;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42" />
                    </svg>
                    <span class="tooltip">Pen</span>
                </button>
            </li>

            <li>
                <button id="square" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 40px; height: 40px; vertical-align: middle; margin-left: -5px;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z" />
                    </svg>
                    <span class="tooltip">Square</span>
                </button>
            </li>

            <li>
                <button id="fill_square" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6" style="width: 40px; height: 40px; vertical-align: middle; margin-left: -5px;">
                        <path fill-rule="evenodd" d="M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z" clip-rule="evenodd" />
                    </svg>
                    <span class="tooltip">fill_square</span>
                </button>
            </li>

            <li>
                <button id="filter" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75" />
                    </svg>
                    <span class="tooltip">Filter</span>
                </button>
            </li>

            <li>
                <button id="reset" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" />
                    </svg>
                    <span class="tooltip">Delete</span>
                </button>
            </li>
            <li>
                <button id="info" class="tool">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 30px; height: 30px; vertical-align: middle;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z" />
                    </svg>
                    <span class="tooltip">Info</span>
                </button>
            </li>
        </ul>

        <li>
            <button id="category" class="tool">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 30px; height: 30px; vertical-align: middle;">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
                </svg>
                <span class="tooltip">Category(post)</span>
            </button>

            <div id="popup" class="popup">
                <form id="imageForm" method="post" enctype="multipart/form-data" th:object="${cardNews}">
                    <input type="hidden" id="imageData" name="imageData">
                    <h3 style="font-family: 'Noto Sans KR', sans-serif; font-weight:bold;">
                        <i class="fas fa-paper-plane" style="margin-right: 8px;" title="Í≤åÏãúÌïòÍ∏∞"></i> <!-- Í≤åÏãú ÏïÑÏù¥ÏΩò -->
                        Ïπ¥Îìú Îâ¥Ïä§ Í≤åÏãú
                    </h3>
                    <div th:if="${#fields.hasGlobalErrors()}">
                        <p class="field-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}">Ï†ÑÏ≤¥ Ïò§Î•ò Î©îÏãúÏßÄ</p>
                    </div>
                    <div class="category">
                        <label><input type="radio" th:field="*{category}" name="category" value="IT" th:checked required> IT</label>
                        <label><input type="radio" th:field="*{category}" name="category" value="Í≥ºÌïô" required> Í≥ºÌïô</label>
                        <label><input type="radio" th:field="*{category}" name="category" value="Ïä§Ìè¨Ï∏†" required> Ïä§Ìè¨Ï∏†</label>
                        <label><input type="radio" th:field="*{category}" name="category" value="Í≤ΩÏ†ú" required> Í≤ΩÏ†ú</label>
                        <label><input type="radio" th:field="*{category}" name="category" value="ÏòàÏà†" required> ÏòàÏà†</label>
                    </div>
                    <div>
                        <label for="title">Ï†úÎ™©</label>
                        <input type="text" th:field="*{title}" id="title" name="title" th:value="${cardNews.title}" required>
                    </div>
                    <div>
                        <label for="content">ÎÇ¥Ïö©</label>
                        <textarea id="content" name="content" th:field="*{content}" rows="4" required th:text="${cardNews.content}"></textarea>
                    </div>
                    <button type="button" id="postButton" onclick="saveImage1()">ÏóÖÎç∞Ïù¥Ìä∏ ÏôÑÎ£å</button>
                </form>
            </div>
        </li>

        <ul class='files'>
            <li>
                <button id="save5" class="tool" style="display: flex; align-items: center;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 30px; height: 30px; vertical-align: middle;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z" />
                    </svg>
                    <span class="tooltip">Save</span>
                </button>
            </li>
        </ul>
    </aside>
    <main>
        <canvas id="imageCanvas"></canvas>
        <button id="speakerButton" class="speaker-btn">üîä</button>
    </main>
    <aside class="tools_sett">
        <div class="container" style="margin-bottom: -138px;">
            <input type="color" id="text_color"/>
            <label for="text_color" class="color_tool" >ÏÉâÏÉÅ</label>
            <input type="color" id="background_color" value="#ffffff"/>
            <label for="background_color" class="color_tool">Î∞∞Í≤ΩÏÉâ</label>
        </div>
        <div class='ranges' style="margin-bottom: -55px;">
            <div id="canvas_range">
                <input type="text" id="canvas_width" value="750">
                X
                <input type="text" id="canvas_height" value="750">
                <label for="canvas_range" class="range_tool">Canvas</label>
            </div>
            <div id="size_box" style="display: none;">
                <input type="range" id="line_width" min="1" max="10" value="5" step="0.1"/>
                <label for="line_width" class="range_tool">ÏÇ¨Ïù¥Ï¶à</label>
            </div>
        </div>
        <div>
            <div class="styled-section">
                <div class="text-button-group" style="margin-top: 75px;">
                    <button id="textbutton" class="styled-button">ÌÖçÏä§Ìä∏ Ï∂îÍ∞Ä</button>
                </div>
            </div>

            <div id="popup1" class="popup1">
                <h3 style="font-family: 'Noto Sans KR', sans-serif;">
                    <i class="fa fa-text-width" aria-hidden="true" style="margin-right: 5px;"></i> ÌÖçÏä§Ìä∏ Ï∂îÍ∞Ä
                </h3>
                <textarea id="textInput" placeholder="ÌÖçÏä§Ìä∏ ÏûÖÎ†•"></textarea>
                <input type="color" id="textColorPicker" value="#000000" style="width: 300px;">
                <input type="number" id="textSizeInput" placeholder="ÌÖçÏä§Ìä∏ ÌÅ¨Í∏∞" min="10" max="100" value="40">
                <select id="fontWeightSelect">
                    <option value="bold">Bold</option>
                    <option value="normal">Normal</option>
                </select>
                <select id="fontFamilySelect">
                    <option value="Do Hyeon">Do Hyeon</option>
                    <option value="Nanum Gothic">Nanum Gothic</option>
                    <option value="Noto Sans KR">Noto Sans KR</option>
                    <option value="Gugi">Gugi</option>
                    <option value="Noto Sans KR">Noto Sans KR</option>
                    <option value="Black Han Sans">Black Han Sans</option>
                    <option value="Gamja Flower">Gamja Flower</option>
                    <option value="Dokdo">Dokdo</option>
                    <option value="Sunflower">Sunflower</option>
                    <option value="Poor Story">Poor Story</option>
                    <!-- Ï∂îÍ∞Ä Ìè∞Ìä∏ ÏòµÏÖòÎì§ -->
                </select>
                <button id="addTextButton">ÌÖçÏä§Ìä∏ Ï∂îÍ∞Ä</button>
            </div>
        </div>

        <div id="jsonurl" style="display: none" th:text="${cardNews.jsonUrl}">
        </div>
        <div id="jsonimage" style="display: none" th:text="${cardNews.originalUrl}">
        </div>

    </aside>
</div>

<!-- ÌÖçÏä§Ìä∏ Ìé∏Ïßë Î™®Îã¨ -->
<div id="textEditPopup" class="popup2">
    <h3 style="font-family: 'Noto Sans KR', sans-serif;">
        <i class="fa fa-text-width" aria-hidden="true" style="margin-right: 5px;"></i> ÌÖçÏä§Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
    </h3>
    <div style="margin-bottom: 10px;">

        <textarea id="popupTextInput"></textarea>
    </div>
    <div style="margin-bottom: 10px;">
        <input type="color" id="popupTextColorPicker" style="width: 300px;">
    </div>
    <div style="margin-bottom: 10px;">
        <input type="number" id="popupTextSizeInput" min="10" max="100">
    </div>
    <div style="margin-bottom: 10px;">
        <select id="popupFontWeightSelect" style="padding: 5px; border: 1px solid #ccc; border-radius: 3px;">
            <option value="normal">Normal</option>
            <option value="bold">Bold</option>
        </select>
    </div>
    <div style="margin-bottom: 10px;">
        <select id="popupFontFamilySelect" style="padding: 5px; border: 1px solid #ccc; border-radius: 3px;">
            <option value="Nanum Gothic">Nanum Gothic</option>
            <option value="Noto Sans KR">Noto Sans KR</option>
            <option value="Do Hyeon">Do Hyeon</option>
            <option value="Gugi">Gugi</option>
            <option value="Noto Sans KR">Noto Sans KR</option>
            <option value="Black Han Sans">Black Han Sans</option>
            <option value="Gamja Flower">Gamja Flower</option>
            <option value="Dokdo">Dokdo</option>
            <option value="Sunflower">Sunflower</option>
            <option value="Poor Story">Poor Story</option>
            <!-- Ï∂îÍ∞Ä Ìè∞Ìä∏ ÏòµÏÖòÎì§ -->
        </select>
    </div>
    <button id="updateTextButton">ÏóÖÎç∞Ïù¥Ìä∏</button>
    <button id="closeTextPopup" style="  margin-top: 15px;
        width: 100%;
        padding: 10px;
        background-color: red;
       border: none;
        border-radius: 5px;
        color: #fff;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease; /* Ï∂îÍ∞Ä: Ìò∏Î≤Ñ Ìö®Í≥º */
        ">Îã´Í∏∞
    </button>
</div>

<!-- ÎπàÏÇ¨Í∞ÅÌòï ÏßÄÏ†ï ÌåùÏóÖ -->
<div id="colorPopup" class="popup3">
    <div class="popup3-content">
        <span id="closeColorPopup" class="close">
            <i class="fas fa-times"></i>
        </span>
        <!--<span id="closeColorPopup" class="close">X</span>-->
        <h3 style="font-family: 'Noto Sans KR', sans-serif; padding-left: 5px; margin-bottom: 15px; font-weight:bold;">
            <i class="far fa-square" style="margin-right: 5px; font-weight:bold;"></i>
            ÎπàÏÇ¨Í∞ÅÌòï ÏÉâÍπî
        </h3>
        <div class="color-palette" style="margin-bottom: 15px;">
            <div class="color-circle" style="background-color: #FF0000; margin-right: 35px;" data-color="#FF0000"></div>
            <div class="color-circle" style="background-color: #00FF00; margin-right: 35px;" data-color="#00FF00"></div>
            <div class="color-circle" style="background-color: #0000FF; margin-right: 35px;" data-color="#0000FF"></div>
            <div class="color-circle" style="background-color: #FFFF00; margin-right: 35px;" data-color="#FFFF00"></div>
            <div class="color-circle rainbow-circle" id="rainbowCircle1">  </div> <!-- Î¨¥ÏßÄÍ∞ú Î≤ÑÌäº -->
            <!-- Í∏∞Î≥∏ ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ (Ìà¨Î™ÖÌïòÍ≤å Ï≤òÎ¶¨) -->
            <input type="color" id="rectColorPicker" class="color-picker-transparent">
        </div>
        <button class="rect_button" id="updateColorButton">Î≥ÄÍ≤Ω</button>
    </div>
</div>

<!-- ÏÉâÏ±ÑÏö¥ ÏÇ¨Í∞ÅÌòï ÏßÄÏ†ï ÌåùÏóÖ -->
<div id="colorPopup2" class="popup4">
    <div class="popup4-content">
        <span id="closeColorPopup2" class="close2">
            <i class="fas fa-times"></i>
        </span>
        <!--<span id="closeColorPopup2" class="close2">X</span>-->
        <h3 style="font-family: 'Noto Sans KR', sans-serif; padding-left: 5px; margin-bottom: 15px; font-weight:bold;">
            <i class="fas fa-square" style="margin-right: 5px; font-weight:bold;"></i>
            ÏÇ¨Í∞ÅÌòï ÏÉâÍπî
        </h3>
        <!-- ÏÉâÏÉÅ ÌåîÎ†àÌä∏ Ï∂îÍ∞Ä -->
        <div class="color-palette" style="margin-bottom: 15px;">
            <div class="color-circle" style="background-color: #FF0000; margin-right: 35px;" data-color="#FF0000"></div>
            <div class="color-circle" style="background-color: #00FF00; margin-right: 35px;" data-color="#00FF00"></div>
            <div class="color-circle" style="background-color: #0000FF; margin-right: 35px;" data-color="#0000FF"></div>
            <div class="color-circle" style="background-color: #FFFF00; margin-right: 35px;" data-color="#FFFF00"></div>
            <div class="color-circle rainbow-circle" id="rainbowCircle2">  </div> <!-- Î¨¥ÏßÄÍ∞ú Î≤ÑÌäº -->
            <!-- Í∏∞Î≥∏ ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ (Ìà¨Î™ÖÌïòÍ≤å Ï≤òÎ¶¨) -->
            <input type="color" id="rectColorPicker2" class="color-picker-transparent">
        </div>
        <button class="rect_button2" id="updateColorButton2">Î≥ÄÍ≤Ω</button>
    </div>
</div>


<!-- Ìéú ÏÉâÍπî ÏßÄÏ†ï ÌåùÏóÖ -->
<div id="colorPopup3" class="popup5">
    <div class="popup5-content">
        <span id="closeColorPopup3" class="close3">
            <i class="fas fa-times"></i>
        </span>
        <h3 style="font-family: 'Noto Sans KR', sans-serif; padding-left: 5px; margin-bottom: 15px; font-weight:bold;">
            <i class="fas fa-paint-brush" style="margin-right: 5px; font-weight:bold;"></i>
            Ìéú ÏÉâÏÉÅ
        </h3>
        <!-- ÏÉâÏÉÅ ÌåîÎ†àÌä∏ Ï∂îÍ∞Ä -->
        <div class="color-palette" style="margin-bottom: 15px;">
            <div class="color-circle" style="background-color: #FF0000; margin-right: 35px;" data-color="#FF0000"></div>
            <div class="color-circle" style="background-color: #00FF00; margin-right: 35px;" data-color="#00FF00"></div>
            <div class="color-circle" style="background-color: #0000FF; margin-right: 35px;" data-color="#0000FF"></div>
            <div class="color-circle" style="background-color: #FFFF00; margin-right: 35px;" data-color="#FFFF00"></div>
            <div class="color-circle rainbow-circle" id="rainbowCircle3">  </div> <!-- Î¨¥ÏßÄÍ∞ú Î≤ÑÌäº -->
            <!-- Í∏∞Î≥∏ ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ (Ìà¨Î™ÖÌïòÍ≤å Ï≤òÎ¶¨) -->
            <input type="color" id="rectColorPicker3" class="color-picker-transparent">
        </div>
        <button class="rect_button3" id="updateColorButton3">Î≥ÄÍ≤Ω</button>
    </div>
</div>


<!-- Ïù¥ÎØ∏ÏßÄ Î∞è Ïò§ÎîîÏò§ Ï†ÄÏû• Î™®Îã¨ -->
<div id="popup5" class="popup5">
    <div class="popup-content5">
        <span id="close5" class="close-btn5">&times;</span>
        <h3 style="font-family: 'Noto Sans KR', sans-serif; font-weight:bold;">
            <i class="fas fa-download" style="margin-right: 5px;"></i> Îã§Ïö¥Î°úÎìú
        </h3>
        <form id="popup-form5" style="margin-top: 10px">
            <label style="font-size: 22px;">
                <input type="checkbox" name="options5" value="image" style="width: 17px; height: 17px;">
                Ïπ¥ÎìúÎâ¥Ïä§
            </label>
            <label style="font-size: 22px;">
                <input type="checkbox" name="options5" value="audio" style="width: 17px; height: 17px;">
                TTS
            </label>
            <label style="font-size: 22px;">
                <input type="checkbox" name="options5" value="video" style="width: 17px; height: 17px;">
                ÎèôÏòÅÏÉÅ
            </label>
            <div class="button-group5">
                <button type="submit" class="btn download-btn5" style="width: 135px;">Download</button>
                <button type="button" id="cancel5" class="btn cancel-btn5" style="width: 135px;">Cancel</button>
            </div>
        </form>
    </div>
</div>



<div id="overlay5"></div>
<div id="filterPopup5">
    <h3 style="font-family: 'Noto Sans KR', sans-serif; padding-left: 10px; font-weight:bold;">
        <i class="fas fa-camera-retro fa-lg" style="margin-right: 8px; font-size: 24px;"></i>ÌïÑÌÑ∞ ÏÑ†ÌÉù
    </h3>
    <form id="filterForm5">
        <div class="filter-option5">
            <input type="radio" id="blur5" name="filter5" value="blur">
            <label for="blur5">ÌùêÎ¶¨Í≤å</label>
        </div>
        <div class="filter-option5">
            <input type="radio" id="brighten5" name="filter5" value="brighten">
            <label for="brighten5">Î∞ùÍ≤å</label>
        </div>
        <div class="filter-option5">
            <input type="radio" id="contrast5" name="filter5" value="contrast">
            <label for="contrast5">ÎåÄÎπÑ Ï°∞Ï†ï</label>
        </div>
        <div class="filter-option5">
            <input type="radio" id="grayscale5" name="filter5" value="invert">
            <label for="grayscale5">ÌùëÎ∞±</label>
        </div>
        <div class="filter-option5">
            <input type="radio" id="sepia5" name="filter5" value="sepia">
            <label for="sepia5">ÏÑ∏ÌîºÏïÑ</label>
        </div>
        <div class="filter-option5">
            <input type="radio" id="default" name="filter5" value="default">
            <label for="default">ÏóÜÏùå</label>
        </div>
    </form>
    <div id="buttonWrapper5">
        <button id="applyFilter5">Ï†ÅÏö©</button>
        <button id="closePopup5">Îã´Í∏∞</button>
    </div>
</div>


<div class="popup-background1502">
    <!-- ÌåùÏóÖ Ïª®ÌÖåÏù¥ÎÑà -->
    <div class="popup-container150">
        <!-- ÏÉÅÎã® Ï§ëÏïôÏóê Î¨∏Ïùò Î¨∏Íµ¨ Ï∂îÍ∞Ä -->
        <div class="inquiry-text150">
            <a href="/chat" style="color: black; text-decoration: none; font-weight: bold; font-size: large;">
                ‚≠êÎ¨∏ÏùòÌïòÏã§Í≤å ÏûàÏúºÎ©¥ Ïù¥ Î¨∏Íµ¨Î•º ÌÅ¥Î¶≠!‚≠ê
            </a>
        </div>


        <!-- ÌéòÏù¥ÏßÄ 1 -->
        <div class="page150 active150" id="page-1150">
            <div class="page-content150" style="background-image: url('/info/img1.png');">
                <div class="page-text150" style="font-weight: bold;">ÌôòÏòÅÌï©ÎãàÎã§! Ïù¥ ÏÑ§Î™ÖÏÑúÎäî ÏÇ¨Ïö©Î≤ïÏùÑ ÏïàÎÇ¥Ìï¥ ÎìúÎ¶ΩÎãàÎã§!</div>
            </div>
        </div>
        <!-- ÌéòÏù¥ÏßÄ 2 -->
        <div class="page150" id="page-2150">
            <div class="page-content150" style="background-image: url('/info/img2.png');">

            </div>
        </div>
        <!-- ÌéòÏù¥ÏßÄ 3 -->
        <div class="page150" id="page-3150">
            <div class="page-content150" style="background-image: url('/info/img3.png');">

            </div>
        </div>

        <div class="page150" id="page-4150">
            <div class="page-content150" style="background-image: url('/info/img4.png');">

            </div>
        </div>

        <div class="page150" id="page-5150">
            <div class="page-content150" style="background-image: url('/info/img5.png');">

            </div>
        </div>

        <div class="page150" id="page-6150">
            <div class="page-content150" style="background-image: url('/info/img6.png');">

            </div>
        </div>

        <div class="page150" id="page-7150">
            <div class="page-content150" style="background-image: url('/info/img7.png');">

            </div>
        </div>

        <div class="page150" id="page-8150">
            <div class="page-content150" style="background-image: url('/info/img8.png');">

            </div>
        </div>

        <div class="page150" id="page-9150">
            <div class="page-content150" style="background-image: url('/info/img9.png');">

            </div>
        </div>

        <div class="page150" id="page-10150">
            <div class="page-content150" style="background-image: url('/info/img10.png');">

            </div>
        </div>

        <div class="page150" id="page-11150">
            <div class="page-content150" style="background-image: url('/info/img11.png');">

            </div>
        </div>

        <div class="page150" id="page-12150">
            <div class="page-content150" style="background-image: url('/info/img11-2.png');">

            </div>
        </div>

        <div class="page150" id="page-13150">
            <div class="page-content150" style="background-image: url('/info/img12.png');">

            </div>
        </div>

        <div class="page150" id="page-14150">
            <div class="page-content150" style="background-image: url('/info/img13.png');">

            </div>
        </div>

        <div class="page150" id="page-15150">
            <div class="page-content150" style="background-image: url('/info/img14.png');">

            </div>
        </div>

        <!-- Îã´Í∏∞ Î≤ÑÌäº -->
        <button class="close-button150" id="closeButton150">X</button>

        <!-- Ïù¥Ï†Ñ Î≤ÑÌäº -->
        <button class="button150 prev150" id="prevButton150">Ïù¥Ï†Ñ</button>
        <!-- Îã§Ïùå Î≤ÑÌäº -->
        <button class="button150 next150" id="nextButton150">Îã§Ïùå</button>

        <!-- ÌéòÏù¥ÏßÄ Î≤àÌò∏ ÌëúÏãú -->
        <div class="page-indicator150" style="color: red; font-weight: bold;" id="pageIndicator150">1/15</div>
    </div>
</div>


<div id="loadingOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); color: white;
 justify-content: center; align-items: center; z-index: 9999;">
    <div class="center-block">

         <span style="position: absolute; top: 45%; left: 50%; transform: translateX(-50%); color: gray; font-weight: bold">
        ÎèôÏòÅÏÉÅÏùÑ ÏÉùÏÑ±ÌïòÍ≥† ÏûàÏäµÎãàÎã§. Ïû†ÏãúÎßå Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî.
            </span>
    </div>
</div>

<script src="/js/main.js"></script>
<script src="/js/app2.js"></script>
<script>
    // Ïù¥ÎØ∏ÏßÄ Ï†ÄÏû• Ìï®Ïàò
    function saveImage1() {
        var canvas = document.getElementById("imageCanvas");
        var imageData = canvas.toDataURL("image/png");

        document.getElementById("imageData").value = imageData;
        document.getElementById("imageForm").submit();

        // ÏÑúÎ≤ÑÏóêÏÑú Î∞õÏùÄ ÌÉÄÏûÑÎ¶¨ÌîÑ Î≥ÄÏàòÎ•º JavaScript Î≥ÄÏàòÎ°ú Í∞ÄÏ†∏Ïò§Í∏∞
        var backgroundImage2 = document.getElementById("jsonimage").textContent;

        const canvasState = {
            backgroundImage: backgroundImage ? backgroundImage2 : null,
            penStrokes: penStrokes,
            brushStrokes: brushStrokes,
            texts: texts,
            rectangles: rectangles,
            rectfillangles: rectfillangles,
            backgroundColor: backgroundColor,
            currentFilter: filterLastValue,
        };
        const json = JSON.stringify(canvasState);

        // ÏÑúÎ≤ÑÎ°ú JSON Îç∞Ïù¥ÌÑ∞ Ï†ÑÏÜ°
        if (json) { // null Ï≤¥ÌÅ¨
            fetch('/ai-editJson', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: json
            })
                .then(response => {
                    // ÏÑúÎ≤Ñ ÏùëÎãµ Ï≤òÎ¶¨
                })
                .catch(error => {
                    // Ïò§Î•ò Ï≤òÎ¶¨
                });
        }
    }
</script>
<script>
    const categoryButton = document.getElementById('category');

    const returnButton = document.getElementById('square');
    const popup = document.getElementById('popup');

    categoryButton.addEventListener('click', (event) => {


        const rect = returnButton.getBoundingClientRect();
        const rightEdge = window.innerWidth;
        popup.style.top = `${rect.bottom}px`;
        if (rect.right + popup.offsetWidth > rightEdge) {
            popup.style.left = `${rect.left}px`;
        } else {
            popup.style.left = `${rect.right}px`;
        }
        togglePopup();
    });

    function togglePopup() {
        popup.style.display = (popup.style.display === 'block') ? 'none' : 'block';
    }

    document.addEventListener('click', (event) => {
        if (!popup.contains(event.target) && event.target !== categoryButton) {
            popup.style.display = 'none';
        }
    });

</script>

<script>
    const textButton = document.getElementById('textbutton');
    const color_tool = document.getElementById('text_color');
    const popup1 = document.getElementById('popup1');

    textButton.addEventListener('click', (event) => {
        const rect = color_tool.getBoundingClientRect();
        const rightEdge = window.innerWidth;
        popup1.style.top = `${rect.bottom}px`;
        popup1.style.left = `${rect.left - popup1.offsetWidth - 180}px`; // ÏàòÏ†ïÎêú Î∂ÄÎ∂Ñ: ÏôºÏ™ΩÏóê Îú®ÎèÑÎ°ù Í≥ÑÏÇ∞
        togglePopup1();
    });

    function togglePopup1() {
        popup1.style.display = (popup1.style.display === 'block') ? 'none' : 'block';
    }

    document.addEventListener('click', (event) => {
        if (!popup1.contains(event.target) && event.target !== textButton) {
            popup1.style.display = 'none';
        }
    });

</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var jsonName = document.getElementById('jsonurl').textContent.trim();
        var filePath = `/ai/json/${jsonName}`;
        loadCanvasFromJSON(filePath);
    });

    function loadCanvasFromJSON(jsonFilePath) {
        fetch(jsonFilePath)
            .then(response => response.json())
            .then(data => {
                const canvasState = data;

                backgroundImage = null;
                penStrokes = canvasState.penStrokes || [];
                brushStrokes = canvasState.brushStrokes || [];
                texts = canvasState.texts || [];
                rectangles = canvasState.rectangles || [];
                rectfillangles = canvasState.rectfillangles || [];
                backgroundColor = canvasState.backgroundColor || [];
                currentFilter = canvasState.currentFilter || 'none';

                if (canvasState.backgroundImage) {
                    const img = new Image();
                    img.src = `/ai/imageone/${canvasState.backgroundImage}`;
                    img.onload = function () {
                        backgroundImage = img;
                        redrawCanvas(currentFilter); // ÌïÑÌÑ∞Î•º Ï†ÅÏö©ÌïòÏó¨ Ï∫îÎ≤ÑÏä§Î•º Îã§Ïãú Í∑∏Î¶ΩÎãàÎã§
                    };
                } else {
                    redrawCanvas();
                }
            })
            .catch(error => console.error('Error loading JSON:', error));
    }
</script>

<script>
    document.getElementById('save5').addEventListener('click', function() {
        document.getElementById('popup5').style.display = 'flex';
    });

    document.getElementById('close5').addEventListener('click', function() {
        document.getElementById('popup5').style.display = 'none';
    });

    document.getElementById('cancel5').addEventListener('click', function() {
        document.getElementById('popup5').style.display = 'none';
    });

    document.getElementById('popup-form5').addEventListener('submit', function(event) {
        event.preventDefault();

        document.getElementById('popup5').style.display = 'none';
    });

</script>
<script>
    let currentPage150 = 1;
    const totalPages150 = 15;

    const prevButton150 = document.getElementById('prevButton150');
    const nextButton150 = document.getElementById('nextButton150');
    const closeButton150 = document.getElementById('closeButton150');
    const pages150 = document.querySelectorAll('.page150');
    const pageIndicator150 = document.getElementById('pageIndicator150');
    const popupBackground150 = document.querySelector('.popup-background1502');

    function updatePage150(direction) {
        // ÌòÑÏû¨ ÌéòÏù¥ÏßÄ Ïà®Í∏∞Í∏∞
        const currentElement150 = document.getElementById(`page-${currentPage150}150`);
        currentElement150.classList.remove('active150');

        // ÌéòÏù¥ÏßÄ Î≥ÄÍ≤Ω
        if (direction === 'next') {
            currentPage150 = currentPage150 < totalPages150 ? currentPage150 + 1 : 1;
        } else if (direction === 'prev') {
            currentPage150 = currentPage150 > 1 ? currentPage150 - 1 : totalPages150;
        }

        // ÏÉà ÌéòÏù¥ÏßÄ Î≥¥Ïó¨Ï£ºÍ∏∞
        const nextElement150 = document.getElementById(`page-${currentPage150}150`);
        nextElement150.classList.add('active150');

        // ÌéòÏù¥ÏßÄ Î≤àÌò∏ ÏóÖÎç∞Ïù¥Ìä∏
        pageIndicator150.textContent = `${currentPage150}/${totalPages150}`;

        // ÎßàÏßÄÎßâ ÌéòÏù¥ÏßÄÏùº Îïå Î≤ÑÌäº ÌÖçÏä§Ìä∏ Î≥ÄÍ≤Ω
        if (currentPage150 === totalPages150) {
            nextButton150.textContent = 'Îã´Í∏∞';
            nextButton150.removeEventListener('click', nextClickHandler);
            nextButton150.addEventListener('click', () => popupBackground150.style.display = 'none');
        } else {
            nextButton150.textContent = 'Îã§Ïùå';
            nextButton150.removeEventListener('click', closePopupHandler);
            nextButton150.addEventListener('click', nextClickHandler);
        }
    }

    function nextClickHandler() {
        updatePage150('next');
    }

    function closePopupHandler() {
        popupBackground150.style.display = 'none';
    }

    nextButton150.addEventListener('click', nextClickHandler);
    prevButton150.addEventListener('click', () => updatePage150('prev'));
    closeButton150.addEventListener('click', closePopupHandler);
    // Info Î≤ÑÌäº ÌÅ¥Î¶≠ Ïãú ÌåùÏóÖ Î≥¥Ïó¨Ï£ºÍ∏∞
    const infoButton = document.getElementById('info');

    infoButton.addEventListener('click', () => {
        popupBackground150.style.display = 'flex'; // ÌåùÏóÖÏùÑ Î≥¥Ïó¨Ï§å
    });

</script>

<script>
    // ÎπàÏÇ¨Í∞ÅÌòï Î¨¥ÏßÄÍ∞ú Î≤ÑÌäº ÌÅ¥Î¶≠ Ïãú ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ Ìà¨Î™ÖÎèÑÎ•º ÏóÜÏï∞
    document.getElementById('rainbowCircle1').addEventListener('click', function() {
        const colorPicker = document.getElementById('rectColorPicker');
        colorPicker.style.opacity = '1';  // Ìà¨Î™ÖÎèÑ ÏóÜÏï∞
        colorPicker.click();  // Í∏∞Î≥∏ ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ Ï∞ΩÏùÑ Î∞îÎ°ú Ïó¥Í∏∞
    });
    // ÏÉâÏ±ÑÏö¥ ÏÇ¨Í∞ÅÌòï Î¨¥ÏßÄÍ∞ú Î≤ÑÌäº ÌÅ¥Î¶≠ Ïãú ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ Ìà¨Î™ÖÎèÑÎ•º ÏóÜÏï∞
    document.getElementById('rainbowCircle2').addEventListener('click', function() {
        const colorPicker = document.getElementById('rectColorPicker2');
        colorPicker.style.opacity = '1';  // Ìà¨Î™ÖÎèÑ ÏóÜÏï∞
        colorPicker.click();  // Í∏∞Î≥∏ ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ Ï∞ΩÏùÑ Î∞îÎ°ú Ïó¥Í∏∞
    });

    // Ìéú ÏÉâÍπî ÏßÄÏ†ï ÌåùÏóÖ Î¨¥ÏßÄÍ∞ú Î≤ÑÌäº ÌÅ¥Î¶≠ Ïãú ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ Ìà¨Î™ÖÎèÑÎ•º ÏóÜÏï∞
    document.getElementById('rainbowCircle3').addEventListener('click', function() {
        const colorPicker = document.getElementById('rectColorPicker3');
        colorPicker.style.opacity = '1';  // Ìà¨Î™ÖÎèÑ ÏóÜÏï∞
        colorPicker.click();  // Í∏∞Î≥∏ ÏÉâÏÉÅ ÏÑ†ÌÉùÍ∏∞ Ï∞ΩÏùÑ Î∞îÎ°ú Ïó¥Í∏∞
    });

</script>

<script>
    // Ìéú ÏÉâÍπî ÏßÄÏ†ï ÌåùÏóÖÏùÑ ÎìúÎûòÍ∑∏Ìï† Ïàò ÏûàÎèÑÎ°ù ÌïòÎäî Ìï®Ïàò
    function dragElement(element) {
        var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;

        element.onmousedown = function (e) {
            e = e || window.event;
            e.preventDefault();
            // ÎßàÏö∞Ïä§ ÏãúÏûë Ï¢åÌëú Í∏∞Î°ù
            pos3 = e.clientX;
            pos4 = e.clientY;
            document.onmouseup = closeDragElement;
            document.onmousemove = elementDrag;
        };

        function elementDrag(e) {
            e = e || window.event;
            e.preventDefault();
            // ÎßàÏö∞Ïä§ ÏõÄÏßÅÏûÑÏóê Îî∞Î•∏ ÌåùÏóÖÏùò ÏÉà Ï¢åÌëú
            pos1 = pos3 - e.clientX;
            pos2 = pos4 - e.clientY;
            pos3 = e.clientX;
            pos4 = e.clientY;
            // ÌåùÏóÖ ÏúÑÏπò ÏóÖÎç∞Ïù¥Ìä∏
            element.style.top = (element.offsetTop - pos2) + "px";
            element.style.left = (element.offsetLeft - pos1) + "px";
        }

        function closeDragElement() {
            // ÎßàÏö∞Ïä§ Î≤ÑÌäºÏùÑ ÎñºÎ©¥ ÎìúÎûòÍ∑∏ Ï§ëÏßÄ
            document.onmouseup = null;
            document.onmousemove = null;
        }
    }

    // ÌåùÏóÖÏ∞ΩÏùÑ ÎìúÎûòÍ∑∏ Í∞ÄÎä•ÌïòÍ≤å ÎßåÎì≠ÎãàÎã§.
    dragElement(document.querySelector(".popup5"));
    dragElement(document.querySelector(".popup3"));  // ÏÇ¨Í∞ÅÌòï ÏÉâÍπî ÌåùÏóÖ
    dragElement(document.querySelector(".popup4"));  // ÏÉâÏ±ÑÏö¥ ÏÇ¨Í∞ÅÌòï ÌåùÏóÖ
    dragElement(document.querySelector("#filterPopup5"));  // ÌïÑÌÑ∞ ÏÑ†ÌÉù ÌåùÏóÖ
</script>

</body>

</html>